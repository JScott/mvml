<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MVML JS test</title>
  <script>
    var http = new XMLHttpRequest();
    var url = "http://direct.dev.mvml.net:6865/";
    http.open("POST", url, true);
    http.setRequestHeader("Content-Type", "text/mvml");

    http.onreadystatechange = function() {
      if(http.readyState == 4 && http.status == 200) {
        document.write(http.responseText);
        document.close();
        console.log(document.documentElement.innerHTML);
        //document.documentElement.innerHTML = http.responseText;
      }
    }
    window.onload = function() {
      http.send(document.getElementsByTagName("mvml")[0].innerHTML);      
    }
  </script>
</head>
<mvml>
---
title: Hello metaverse!
player:
  move_speed: 15
  turn_speed: 1.5
  min_jump_speed: 0
  max_jump_speed: 20
  start: (0,0,30)
  gravity: 30
scene:
  - primitive: sphere

  - primitive: box
    position: (0, 0, -20)
    scale: (30,10,1)
    mass: 0
    color: 0x00ff00

  - primitive: box
    position: (-10, 1, 0)
    scale: (2,2,4)
    rotation: (0,-30,0)
    color: 0x00ffff
    physics: off

  - primitive: plane
    position: (0,-2, 0)
    scale: (200,200,1)
    rotation: (-90,0,0)
    mass: 0
    color: green
</mvml>
</html>
